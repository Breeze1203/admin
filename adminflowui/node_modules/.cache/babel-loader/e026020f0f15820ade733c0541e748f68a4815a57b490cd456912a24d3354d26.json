{"ast":null,"code":"import requestUtil from \"@/util/requestUtil\";\nimport permissions_request from \"@/api/permissions\";\nexport default {\n  name: 'Permission',\n  data() {\n    return {\n      roles: [],\n      accordion: null,\n      operation: [],\n      total: null,\n      // 操作权限总条数,\n      page: 0,\n      size: 3\n    };\n  },\n  methods: {\n    // 初始化所有角色\n    initRole() {\n      requestUtil.getAllRoles().then(resp => {\n        this.roles = resp.data;\n        console.log(resp.data);\n      });\n    },\n    // 初始化用户所有操作权限\n    initPermissions() {\n      permissions_request.getAllPermission(this.page, this.size).then(resp => {\n        this.operation = resp.data;\n      });\n    },\n    // 初始化操作权限条数\n    initCount() {\n      permissions_request.getPermissionCount().then(resp => {\n        this.total = resp.data;\n      });\n    },\n    handleSizeChange(size) {\n      this.size = size;\n      this.initPermissions();\n    }\n  },\n  mounted() {\n    this.initRole();\n    this.initPermissions();\n    this.initCount();\n  }\n};","map":{"version":3,"names":["requestUtil","permissions_request","name","data","roles","accordion","operation","total","page","size","methods","initRole","getAllRoles","then","resp","console","log","initPermissions","getAllPermission","initCount","getPermissionCount","handleSizeChange","mounted"],"sources":["/Users/pt/Documents/code/adminflowui/src/components/set/Permission.vue"],"sourcesContent":["<template>\n  <div style=\"margin-top: 30px;width: 100%\">\n    <el-collapse v-for=\"(role,index) in roles\" accordion v-model=\"accordion\">\n      <el-collapse-item style=\"font-size: larger;\" :title=\"role.nameZh\" :name=\"role.id\">\n        <el-card>\n          <div>\n\n          </div>\n          <div class=\"button-group\">\n            <el-button class=\"button\" plain>取消修改</el-button>\n            <el-button class=\"button\" plain type=\"danger\">确认修改</el-button>\n          </div>\n        </el-card>\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n  <div style=\"margin-top: 10px\">\n    <el-row :gutter=\"6\" style=\"margin-bottom: 30px\">\n      <el-col :xs=\"4\" :sm=\"6\" :md=\"4\" :lg=\"3\" :xl=\"1\">\n        <label>用户操作权限</label>\n      </el-col>\n      <el-col :xs=\"4\" :sm=\"6\" :md=\"4\" :lg=\"3\" :xl=\"1\">\n        <el-button plain icon=\"Refresh\">刷新</el-button>\n      </el-col>\n      <el-col :xs=\"2\" :sm=\"3\" :md=\"5\" :lg=\"5\" :xl=\"7\">\n        <el-button plain type=\"success\" icon=\"Upload\">导出</el-button>\n      </el-col>\n    </el-row>\n    <el-table\n        :data=\"operation\"\n        style=\"width: 100%;\"\n        row-key=\"menu_id\"\n        border\n        :default-expand-all=\"false\">\n      <el-table-column align=\"center\" prop=\"id\" label=\"唯一标识\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"name\" label=\"权限标识\"></el-table-column>\n      <el-table-column align=\"center\" prop=\"describe\" label=\"操作权限描述\"></el-table-column>\n    </el-table>\n    <el-pagination style=\"margin-top: 10px\"\n                   :page-sizes=\"[3, 6, 9]\"\n                   layout=\"total, sizes, prev, pager, next, jumper\"\n                   :total=total\n                   background\n                   :default-page-size=\"3\"\n                   @size-change=\"handleSizeChange\"\n                   @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n<script>\nimport requestUtil from \"@/util/requestUtil\";\nimport permissions_request from \"@/api/permissions\";\n\nexport default {\n  name: 'Permission',\n  data() {\n    return {\n      roles: [],\n      accordion: null,\n      operation: [],\n      total: null,// 操作权限总条数,\n      page: 0,\n      size: 3,\n    }\n  },\n  methods: {\n    // 初始化所有角色\n    initRole() {\n      requestUtil.getAllRoles().then(resp => {\n        this.roles = resp.data;\n        console.log(resp.data);\n      })\n    },\n    // 初始化用户所有操作权限\n    initPermissions() {\n      permissions_request.getAllPermission(this.page, this.size).then(resp => {\n        this.operation = resp.data;\n      })\n    },\n    // 初始化操作权限条数\n    initCount() {\n      permissions_request.getPermissionCount().then(resp => {\n        this.total = resp.data;\n      })\n    },\n    handleSizeChange(size){\n      this.size=size;\n      this.initPermissions();\n    }\n  },\n  mounted() {\n    this.initRole();\n    this.initPermissions();\n    this.initCount();\n  }\n}\n</script>\n<style scoped>\n.collapse {\n  margin-top: 30px;\n}\n</style>\n"],"mappings":"AAkDA,OAAOA,WAAU,MAAO,oBAAoB;AAC5C,OAAOC,mBAAkB,MAAO,mBAAmB;AAEnD,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,IAAI;MAAC;MACZC,IAAI,EAAE,CAAC;MACPC,IAAI,EAAE;IACR;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,QAAQA,CAAA,EAAG;MACTX,WAAW,CAACY,WAAW,CAAC,CAAC,CAACC,IAAI,CAACC,IAAG,IAAK;QACrC,IAAI,CAACV,KAAI,GAAIU,IAAI,CAACX,IAAI;QACtBY,OAAO,CAACC,GAAG,CAACF,IAAI,CAACX,IAAI,CAAC;MACxB,CAAC;IACH,CAAC;IACD;IACAc,eAAeA,CAAA,EAAG;MAChBhB,mBAAmB,CAACiB,gBAAgB,CAAC,IAAI,CAACV,IAAI,EAAE,IAAI,CAACC,IAAI,CAAC,CAACI,IAAI,CAACC,IAAG,IAAK;QACtE,IAAI,CAACR,SAAQ,GAAIQ,IAAI,CAACX,IAAI;MAC5B,CAAC;IACH,CAAC;IACD;IACAgB,SAASA,CAAA,EAAG;MACVlB,mBAAmB,CAACmB,kBAAkB,CAAC,CAAC,CAACP,IAAI,CAACC,IAAG,IAAK;QACpD,IAAI,CAACP,KAAI,GAAIO,IAAI,CAACX,IAAI;MACxB,CAAC;IACH,CAAC;IACDkB,gBAAgBA,CAACZ,IAAI,EAAC;MACpB,IAAI,CAACA,IAAI,GAACA,IAAI;MACd,IAAI,CAACQ,eAAe,CAAC,CAAC;IACxB;EACF,CAAC;EACDK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACX,QAAQ,CAAC,CAAC;IACf,IAAI,CAACM,eAAe,CAAC,CAAC;IACtB,IAAI,CAACE,SAAS,CAAC,CAAC;EAClB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}