{"ast":null,"code":"import organization_request from \"@/api/organization\";\nexport default {\n  name: \"Department\",\n  data() {\n    return {\n      value: null,\n      data: [],\n      defaultProps: {\n        children: 'children',\n        label: 'name'\n      },\n      options: []\n    };\n  },\n  methods: {\n    // 初始化树形组织\n    initTreeOrganization() {\n      organization_request.getTreeOrganization().then(resp => {\n        this.data = resp.data;\n      });\n    },\n    // 初始化所有组织\n    initAllOrganization() {\n      organization_request.getAllOrganization().then(resp => {\n        console.log(resp.data);\n        this.options = resp.data;\n      });\n    }\n  },\n  mounted() {\n    this.initTreeOrganization();\n    this.initAllOrganization();\n  }\n};","map":{"version":3,"names":["organization_request","name","data","value","defaultProps","children","label","options","methods","initTreeOrganization","getTreeOrganization","then","resp","initAllOrganization","getAllOrganization","console","log","mounted"],"sources":["/Users/pt/Documents/code/adminflowui/src/components/info/Department.vue"],"sourcesContent":["<template>\n  <div style=\"margin-top: 25px;width: 100%\">\n    <div style=\"width: 100%;margin-top:30px;\">\n      <div>\n        <el-input placeholder=\"请输入部门名称\" style=\"width: 200px;margin-left: 20px\"\n                  type=\"text\">\n        </el-input>\n        <el-select clearable v-model=\"value\" style=\"margin-left: 30px\" placeholder=\"请选择所属部门\" size=\"default\">\n          <el-option\n              v-for=\"item in options\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n          />\n        </el-select>\n        <el-button @click=\"addRole\" plain style=\"margin-left: 30px\" type=\"primary\">添加部门\n          <el-icon>\n            <Plus/>\n          </el-icon>\n        </el-button>\n        <el-button @click=\"cancelUpdate\" plain style=\"margin-left: 30px\" type=\"info\">重置\n          <el-icon>\n            <Refresh/>\n          </el-icon>\n        </el-button>\n      </div>\n    </div>\n  </div>\n  <div style=\"margin-top: 5%\">\n    <el-tree style=\"width: 80%;font-style: italic\"\n             :data=\"data\"\n             show-checkbox\n             node-key=\"id\"\n             :default-expand-all=\"true\"\n             auto-expand-parent\n             :props=\"defaultProps\">\n      <template #default=\"{ node, data }\">\n        <div class=\"department\">\n          <span>{{ node.label }}</span>\n          <span class=\"buttons\">\n            <el-button type=\"danger\" size=\"small\" @click=\"deleteDep(data)\">删除部门</el-button>\n          </span>\n        </div>\n      </template>\n    </el-tree>\n  </div>\n</template>\n\n<script>\nimport organization_request from \"@/api/organization\";\n\nexport default {\n  name: \"Department\",\n  data() {\n    return {\n      value: null,\n      data: [],\n      defaultProps: {\n        children: 'children',\n        label: 'name'\n      },\n      options: []\n    }\n  },\n  methods: {\n    // 初始化树形组织\n    initTreeOrganization() {\n      organization_request.getTreeOrganization().then(resp => {\n        this.data = resp.data;\n      })\n    },\n    // 初始化所有组织\n    initAllOrganization() {\n      organization_request.getAllOrganization().then(resp=>{\n        console.log(resp.data);\n        this.options=resp.data;\n      })\n    }\n  },\n  mounted() {\n    this.initTreeOrganization();\n    this.initAllOrganization();\n  }\n}\n</script>\n\n<style scoped>\n.department {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n</style>\n"],"mappings":"AAiDA,OAAOA,oBAAmB,MAAO,oBAAoB;AAErD,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,IAAI;MACXD,IAAI,EAAE,EAAE;MACRE,YAAY,EAAE;QACZC,QAAQ,EAAE,UAAU;QACpBC,KAAK,EAAE;MACT,CAAC;MACDC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,oBAAoBA,CAAA,EAAG;MACrBT,oBAAoB,CAACU,mBAAmB,CAAC,CAAC,CAACC,IAAI,CAACC,IAAG,IAAK;QACtD,IAAI,CAACV,IAAG,GAAIU,IAAI,CAACV,IAAI;MACvB,CAAC;IACH,CAAC;IACD;IACAW,mBAAmBA,CAAA,EAAG;MACpBb,oBAAoB,CAACc,kBAAkB,CAAC,CAAC,CAACH,IAAI,CAACC,IAAI,IAAE;QACnDG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACV,IAAI,CAAC;QACtB,IAAI,CAACK,OAAO,GAACK,IAAI,CAACV,IAAI;MACxB,CAAC;IACH;EACF,CAAC;EACDe,OAAOA,CAAA,EAAG;IACR,IAAI,CAACR,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACI,mBAAmB,CAAC,CAAC;EAC5B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}