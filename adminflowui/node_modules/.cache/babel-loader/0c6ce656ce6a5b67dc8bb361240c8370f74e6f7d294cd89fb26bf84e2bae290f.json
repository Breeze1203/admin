{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport Login from \"@/components/Login.vue\";\nimport Home from \"@/components/Home.vue\";\nimport LogSet from \"@/components/log/LogSet.vue\";\nimport UserSet from \"@/components/set/UserSet.vue\";\nimport RoleSet from \"@/components/set/RoleSet.vue\";\nimport Permission from \"@/components/set/Permission.vue\";\nimport About from \"@/components/pub/About.vue\";\nimport MenuSet from \"@/components/set/MenuSet.vue\";\nimport Department from \"@/components/info/Department.vue\";\nimport Position from \"@/components/info/Position.vue\";\nimport { ElMessage } from \"element-plus\";\nimport { getCookie } from \"@/util/cookieUtil\";\nconst routes = [{\n  path: '/',\n  name: 'Login',\n  component: Login\n}, {\n  path: '/home',\n  name: 'Home',\n  component: Home,\n  children: [{\n    path: '/log',\n    name: '操作日志',\n    component: LogSet\n  }, {\n    path: '/system/user',\n    name: '用户管理',\n    component: UserSet\n  }, {\n    path: '/system/role',\n    name: '角色管理',\n    component: RoleSet\n  }, {\n    path: '/system/permissions',\n    name: '权限管理',\n    component: Permission\n  }, {\n    path: '/system/menus',\n    name: '菜单管理',\n    component: MenuSet\n  }, {\n    path: '/system/department',\n    name: '部门管理',\n    component: Department\n  }, {\n    path: '/system/position',\n    name: '职位管理',\n    component: Position\n  }, {\n    path: '/system/operation',\n    name: '操作日志记录',\n    component: LogSet\n  }, {\n    path: '/system/scheduled',\n    name: '定时任务',\n    component: LogSet\n  }, {\n    path: '/about',\n    name: '关于项目',\n    component: About\n  }]\n}];\nconst router = createRouter({\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes\n});\n\n/*\n路由导航守卫\n */\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== 'Login' && sessionStorage.getItem(\"user\") === null) {\n    ElMessage.info(\"尚未登录，请登录\");\n    next({\n      name: 'Login'\n    });\n  } else {\n    let user = JSON.parse(sessionStorage.getItem(\"user\"));\n    let token = getCookie(user.username + 'token');\n    if (token == null) {\n      ElMessage.error(\"会话过期，请重新登录\");\n      next('/', true);\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","Login","Home","LogSet","UserSet","RoleSet","Permission","About","MenuSet","Department","Position","ElMessage","getCookie","routes","path","name","component","children","router","history","process","env","BASE_URL","beforeEach","to","from","next","sessionStorage","getItem","info","user","JSON","parse","token","username","error"],"sources":["/Users/pt/Documents/code/adminflowui/src/router/index.js"],"sourcesContent":["import {createRouter, createWebHashHistory} from 'vue-router'\nimport Login from \"@/components/Login.vue\";\nimport Home from \"@/components/Home.vue\";\nimport LogSet from \"@/components/log/LogSet.vue\";\nimport UserSet from \"@/components/set/UserSet.vue\";\nimport RoleSet from \"@/components/set/RoleSet.vue\";\nimport Permission from \"@/components/set/Permission.vue\";\nimport About from \"@/components/pub/About.vue\";\nimport MenuSet from \"@/components/set/MenuSet.vue\";\nimport Department from \"@/components/info/Department.vue\";\nimport Position from \"@/components/info/Position.vue\";\nimport {ElMessage} from \"element-plus\";\nimport {getCookie} from \"@/util/cookieUtil\";\n\nconst routes = [\n    {\n        path: '/',\n        name: 'Login',\n        component: Login\n    },\n    {\n        path: '/home',\n        name: 'Home',\n        component: Home,\n        children: [\n            {\n                path: '/log',\n                name: '操作日志',\n                component: LogSet\n            },\n            {\n                path: '/system/user',\n                name: '用户管理',\n                component: UserSet\n            },\n            {\n                path: '/system/role',\n                name: '角色管理',\n                component: RoleSet\n            },\n            {\n                path: '/system/permissions',\n                name: '权限管理',\n                component: Permission\n            },\n            {\n                path: '/system/menus',\n                name: '菜单管理',\n                component: MenuSet\n            },\n            {\n                path: '/system/department',\n                name: '部门管理',\n                component: Department\n            },\n            {\n                path: '/system/position',\n                name: '职位管理',\n                component: Position\n            },\n            {\n                path: '/system/operation',\n                name: '操作日志记录',\n                component: LogSet\n            },\n            {\n                path: '/system/scheduled',\n                name: '定时任务',\n                component: LogSet\n            },\n            {\n                path: '/about',\n                name: '关于项目',\n                component: About\n            },\n        ]\n    },\n\n]\n\nconst router = createRouter({\n    history: createWebHashHistory(process.env.BASE_URL),\n    routes\n})\n\n/*\n路由导航守卫\n */\nrouter.beforeEach((to, from, next) => {\n    if (to.name !== 'Login' && sessionStorage.getItem(\"user\") === null) {\n        ElMessage.info(\"尚未登录，请登录\");\n        next({name: 'Login'})\n    } else {\n        let user = JSON.parse(sessionStorage.getItem(\"user\"));\n        let token = getCookie(user.username + 'token');\n        if (token == null) {\n            ElMessage.error(\"会话过期，请重新登录\");\n            next('/',true)\n        }else {\n            next();\n        }\n\n    }\n})\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}